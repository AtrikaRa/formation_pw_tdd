on: push
name: Unit test
jobs:
  unitTest:
    name: Unit Test
    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v3
    
    - name: Use composer
      uses: ramsey/composer-install@v2

    - name: Setup database
      run: |
        php bin/console d:s:u -f --env='test'

    - name: Unit Test
      run: |
        php bin/phpunit
    
    - name: Show result
      if: always()
      run: echo "üçè This job's status is ${{ job.status }} https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }} https://github.com/${{ github.repository }}/actions/runs/${{ github.job }}?check_suite_focus=true ${{ env.GITHUB_PATH }}."